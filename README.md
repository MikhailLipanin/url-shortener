# Сервис сокращения ссылок

Сервис для сокращения длинных URL с возможностью управления лимитом переходов и временем жизни ссылки.

## Оглавление

- [Анализ требований](#анализ-требований)
- [Чек-лист выполнения](#чек-лист-выполнения)
- [Команды Makefile](#команды-makefile)
- [Использование](#использование)

## Анализ требований

## Чек-лист выполнения

### Основные функции приложения

1. Реализация алгоритма сокращения и механизма уникальности ссылок для каждого пользователя (5 баллов):

- [x] Алгоритм реализован, уникальность гарантируется тем, что при рассчете короткой ссылки берется хеш от nickname-а пользователя (у каждого пользователя свой nickname) и url + рандомная соль.

2. Реализован переход/редирект по ссылке из консоли — максимум 2 балла.

- [x] Готово

3. Реализован лимит переходов (подсчёт и блокировка) — максимум 5 баллов.

- [x] Готово

4. Реализовано время жизни и автоудаление по сроку — максимум 6 баллов.

- [x] Решил сделать простой TTL сервис, который раз в промежуток времени смотрит какие ссылки надо удалить и удаляет нужные. Не гарантировано точное удаление по истечению срока, т.к. срок может истечь в середине периода проверки TTL сервиса.

5. Реализованы UUID-идентификация и права на правку/удаление — максимум 6 баллов.

- [x] Операции редактирования/удаления доступны только владельцу

6. Реализация конфигурации приложения из отдельного конфигурационного файла — максимум 3 балла.

- [x] Конфигурация приложения реализована через файл `config.yaml`

7. Реализован мультипользовательский режим и несколько ссылок у одного пользователя — максимум 3 балла.

- [x] Корректно поддерживаются и мультипользовательский режим, и несколько ссылок у одного пользователя

### Расширенные функции и удобство — 10 баллов.
1. Уведомления об исчерпании лимита/TTL — максимум 3 балла.

- [ ] Не буду делать.

2. Редактирование лимита и параметров (администрирование владельцем) — максимум 3 балла.

- [ ] Не буду делать.

3. Обработка ошибок и устойчивость — максимум 2 балла.

- [x] Продуманная валидация URL и границ, обработка исключений

4. UX CLI: помощь / подсказки / понятные сообщения — максимум 2 балла.

- [x] Удобное CLI, примеры

### Качество разработки — 10 баллов.
1. Тестирование (unit + интеграционные сценарии) — максимум 3 балла.

- [ ] Не буду делать.

2. Архитектура и качество кода — максимум 3 балла.

3. Документация — максимум 2 балла.

- [x] README с установкой, примерами команд, описанием архитектуры/решений.

4. Автоматизация — максимум 2 балла.

## Команды Makefile

### Компиляция

```bash
make compile
```

Или через Maven напрямую:

```bash
mvn clean compile
```

### Запуск

Запуск с дефолтным конфигом (из корня проекта):

```bash
make run
```

Запуск с указанным конфигом:

```bash
make run CONFIG=/path/to/config.yaml
```

### Создание JAR файла

```bash
make package
```

### Запуск из JAR файла

```bash
make run-jar
```

### Очистка

```bash
make clean
```

### Полная сборка

```bash
make all
```


## Command-Line-Interface (CLI)

1. **Создать короткую ссылку** - создание новой короткой ссылки с опциональным лимитом переходов
2. **Перейти по короткой ссылке** - открытие оригинального URL в браузере
3. **Просмотреть мои ссылки** - список всех созданных ссылок текущего пользователя с полной информацией
4. **Удалить ссылку** - удаление ссылки (только создателем)
5. **Показать мой TTY** - отображение TTY терминала текущего пользователя
0. **Выход** - завершение работы приложения



